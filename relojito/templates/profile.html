{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}

{% block title %}{% trans 'Profile' %}{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4>{{profile.first_name}} {{profile.last_name}}</h4>
          </div>
        <div class="panel-body">
          <p>{% trans 'Username' %}: {{profile.username}}</p>
          <p>{% trans 'Email' %}: {{profile.email|urlize}}</p>
        </div>
      </div>
      <h4>{% trans 'Tasks' %}</h4>

      <table class="table table-condensed">
      <thead>
        <tr>
          <th>{% trans 'Task' %}</th>
          <th>{% trans 'Type' %}</th>
          <th>{% trans 'Created' %}</th>
          <th>{% trans 'Resolved as' %}</th>
          <th>{% trans 'Total hours' %}</th>
        </tr>
      </thead>
      <tbody>
        {% for t in tasks %}
        <tr>
          {% if t.description %}
          <td><a href="{% url 'task_detail' pk=t.id %}">{{t.name}} - {{t.description}}</a></td>
          {% else %}
          <td><a href="{% url 'task_detail' pk=t.id %}">{{t.name}}</a></td>
          {% endif %}
          <td>{{ t.task_type }}</td>
          <td>{{ t.created_at }}</td>
          <td>{{ t.resolved_as|default_if_none:"-" }}</td>
          <td>{{ t.total_hours }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    </div>
</div>
{% endblock %}
